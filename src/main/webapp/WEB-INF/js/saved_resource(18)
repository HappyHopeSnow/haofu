/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("escape",function(e,t){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;"},r={html:function(e){return(e+"").replace(/[&<>"'\/`]/g,r._htmlReplacer)},regex:function(e){return(e+"").replace(/[\-$\^*()+\[\]{}|\\,.?\s]/g,"\\$&")},_htmlReplacer:function(e){return n[e]}};r.regexp=r.regex,e.Escape=r},"3.16.0",{requires:["yui-base"]});

M.add("w-core",function(a){var b=a.mt.util,c=a.UA.ie,d=6===c,e=8===c,f={};a.namespace("mt.widget"),a.mt.widget.util={setPosition:function(b,c,d,e,f){var g,h,i=f||"absolute";if(e=e||a.one(document.body),c&&"center"!==c)if("inner"===c)a.one(d).appendChild(b),b.setStyle("position","static");else if(a.Lang.isArray(c))this.setXY(b,c,i);else{var j=a.one(c);this.setXY(b,[j.getX(),j.getY()+j.get("offsetHeight")],i)}else{g=b.get("offsetWidth"),h=b.get("offsetHeight");var k=(e.get("offsetWidth")-g)/2,l=(e.get("winHeight")-h)/2+e.get("docScrollY"),m=0>=l?10:l;this.setXY(b,[k,m],i)}},setXY:function(a,b,c){a.setXY(b),c&&a.setStyle("position",c)},hideNodeByClickDocument:function(b,c,d){if(b){b=a.one(b);var e=b.get("id");this.detachHideNodeByClickDocument(b);var g=this;f[e]=a.on("click",function(a){"none"===b.getStyle("display")||g._isNodeContainsTarget(a.target,b)||g._isNodeContainsTarget(a.target,c)||(b.hide(),d&&d())},document)}},detachHideNodeByClickDocument:function(b){b=a.one(b);var c=b.get("id");f[c]&&a.detach(f[c])},_isNodeContainsTarget:function(b,c){c instanceof a.NodeList||(c=a.all(c));var d=!1;return c.some(function(a){return a.contains(b)?(d=!0,!0):void 0}),d},isPosInRegion:function(b,c){"string"==typeof c?c=a.all(c):c instanceof a.Node&&(c=new a.NodeList(c));var d=!1;return c.each(function(a){var c=a.get("region");b[0]>=c.left&&b[0]<=c.right&&b[1]>=c.top&&b[1]<=c.bottom&&(d=!0)}),d},getRegByMode:function(b,c){var d;return c=c||"strict",b=a.Escape.regex(b),d=new RegExp("fuzzy"===c?b:"start"===c?"^"+b:"^"+b+"$")},getClassName:function(b,c){if(!c)return b;if(a.Lang.isString(b))return c+"-"+b;for(var d in b)b.hasOwnProperty(d)&&(b[d]=c+"-"+b[d]);return b},fixedTableHeader:function(c){function f(){if(c.getY()<=c.get("docScrollY")){var b=c.getX()-c.get("docScrollX");k.setStyles(d||e?{zIndex:6,left:b,top:c.get("docScrollY"),position:"absolute"}:{position:"fixed",top:0,left:b}),a.Global.fire("table:fixed",{ndTable:c})}else g(k)}function g(a){a.setStyles({position:"static",border:0})}function h(){var a=c.get("rows"),b=null;return a.some(function(a,c){return 0!==c&&"none"!==a.getStyle("display")?(b=a,!0):void 0}),b}function i(a,b){if(a&&b){var c=b.get("cells");a.get("cells").each(function(a,b){var d=c.item(b);d.setStyle("width",a.getComputedStyle("width"));var e,f=parseInt(a.getComputedStyle("paddingLeft"),10),g=parseInt(a.getComputedStyle("paddingRight"),10);"right"===d.getStyle("textAlign")?(e=f+g-parseInt(d.getComputedStyle("paddingRight"),10),d.setStyle("paddingLeft",e)):(e=f+g-parseInt(d.getComputedStyle("paddingLeft"),10),d.setStyle("paddingRight",e))})}}if(c=a.one(c)){var j=c.get("rows"),k=j.item(0),l=c.getComputedStyle("width");c.setStyle("width",l),k.setStyle("width",l),k.all("th").each(function(a){var b=a.getComputedStyle("width");a.setStyle("width",b)}),i(k,h()),c.setStyle("word-wrap","break-word");var m=a.one(window);m.on("scroll",b.throttle(f,100)),a.Global.on("table:fixed",function(a){a.ndTable!==c&&g(k)})}}},a.namespace("mt.extension"),a.mt.extension.List=function(){this._cache=[],this._listHandle={mouse:{click:null},delegate:{mouseover:null,mouseout:null,click:null},key:{up:null,down:null,enter:null,tab:null}},a.after(this._syncListUI,this,"syncUI"),a.after(this._bindListUI,this,"bindUI"),a.before(this._listDestructor,this,"destructor")},a.mt.extension.List.ATTRS={maxShowItem:{value:10}},a.mt.extension.List.prototype={_bindListUI:function(){this._bindListDelegate(),this._bindListKey(),this._bindListMouse()},_listDestructor:function(){b.detachHandle(this._listHandle)},_bindListMouse:function(){var b=this,c=this.get("boundingBox");this._listHandle.mouse.click&&this._listHandle.mouse.click.detach(),this._listHandle.mouse.click=a.one(a.config.doc).on("click",function(a){var d=a.target,e=b._ndListTrigger;d===e||c.contains(d)||b.get("visible")&&"none"!==b.get("boundingBox").getStyle("display")&&b._leave()})},_bindListDelegate:function(){var a=this,b=this.get("contentBox");this._listHandle.delegate.mouseover=b.delegate("mouseover",function(){b.all("li").removeClass("current"),this.addClass("current")},"li"),this._listHandle.delegate.mouseout=b.delegate("mouseout",function(){this.removeClass("current")},"li"),this._listHandle.delegate.click=b.delegate("click",function(b){b.stopPropagation(),a._select(this)},"li, input")},_bindListKey:function(){var a=this,b=this._ndListTrigger;b&&(this._listHandle.key.down=b.on("key",function(b){var c=a._getList();if(0!==c.size()&&a.get("visible")){b.halt();var d=a._getCurrentItem();if(d){var e=d.next("li");e?(d.removeClass("current"),e.addClass("current")):(d.removeClass("current"),c.item(0).addClass("current"))}else c.item(0).addClass("current")}},"down:40"),this._listHandle.key.up=b.on("key",function(b){var c=a._getList();if(c&&a.get("visible")){b.halt();var d=a._getCurrentItem();if(d){var e=d.previous("li");e?(d.removeClass("current"),e.addClass("current")):(d.removeClass("current"),c.item(c.size()-1).addClass("current"))}}},"down:38"),this._listHandle.key.enter=b.on("key",function(b){b.halt();var c=a._getCurrentItem();c&&a._select(c)},"down:13"),this._listHandle.key.tab=b.on("key",function(){a._leave()},"down:9"))},_getList:function(){return this.get("contentBox").all("li")},_getCurrentItem:function(){return this.get("contentBox").one("li.current")},_syncList:function(a){var b,c,d=[];if(this._cache=a||[],a&&0!==a.length){for(d.push("<ul>"),b=0;b<a.length&&b<this.get("maxShowItem");b++)c=a[b],d.push("<li"+(b%2?' class="alt"':"")+">"),d.push(c.text),d.push("</li>");d.push("</ul>")}else d.push('<p class="none">没有结果</p>');return d.join("")},_showList:function(a,b){void 0!==a&&this.get("contentBox").setHTML(a),b&&this._setListPos(b),this.show()},_calListPosition:function(a){var b=a.getXY();return b[1]+=a.get("offsetHeight"),b},_setListPos:function(b){var c=b||this._listPos;if(!c)throw new Error("请设置结果列表定位信息");a.mt.widget.util.setXY(this.get("boundingBox"),c,"absolute")}}},"1.0.0",{requires:["mt-base","escape","node","event-custom"]});
M.add("p-align",function(a){a.namespace("mt.plugin");var b=a.Base.create("align",a.Plugin.Base,[],{initializer:function(a){var b=this;b._nd=a.host,b._location=a.location?a.location:!1,b._to=a.to?a.to:!1,b._responsive=a.responsive?a.responsive:!0,b.bindEvent(),b.doAlign()},bindEvent:function(){var b=this,c=a.one(window);b._responsive&&(c.on("scroll",a.mt.util.throttle(function(){b.doAlign()},10)),c.on("resize",a.mt.util.throttle(function(){b.doAlign()},10)))},_setFirstLocation:function(a,b,c,d){var e=a.get("docScrollY"),f=a.get("docScrollX"),g=(a.get("winHeight"),a.get("winWidth"));switch(b.charAt(0)){case"l":c.left-d.width-f>0?(a.setStyle("left","auto"),a.setStyle("right",-c.left)):(a.setStyle("right","auto"),a.setStyle("left",c.right));break;case"r":c.right+d.width-f<g?(a.setStyle("right","auto"),a.setStyle("left",c.right)):(a.setStyle("left","auto"),a.setStyle("right",-c.left));break;case"t":c.top-d.height-e>0?(a.setStyle("top","auto"),a.setStyle("bottom",-c.top)):(a.setStyle("bottom","auto"),a.setStyle("top",c.bottom));break;case"b":a.setStyle("bottom","auto"),a.setStyle("top",c.bottom)}},_setSecondLocation:function(a,b,c,d){var e=a.get("docScrollY"),f=a.get("docScrollX"),g=a.get("winHeight"),h=a.get("winWidth");switch(b.charAt(1)){case"l":c.left+d.width-f>h?(a.setStyle("left","auto"),a.setStyle("right",-c.right)):(a.setStyle("right","auto"),a.setStyle("left",c.left));break;case"r":c.right-d.width-f<0?(a.setStyle("right","auto"),a.setStyle("left",c.left)):(a.setStyle("left","auto"),a.setStyle("right",-c.right));break;case"t":c.top+d.height-e>g?(a.setStyle("top","auto"),a.setStyle("bottom",-c.bottom)):(a.setStyle("bottom","auto"),a.setStyle("top",c.top));break;case"b":c.bottom-d.height-e<0?(a.setStyle("bottom","auto"),a.setStyle("top",c.top)):(a.setStyle("top","auto"),a.setStyle("bottom",-c.bottom));break;case"c":var i=b.charAt(0);"t"===i||"b"===i?a.setStyle("left",c.left+(c.width-d.width)/2):a.setStyle("top",c.top+(c.height-d.height)/2)}},doAlign:function(a,b){var c,d,e=this,f=e._nd;a&&b&&(e._location=a,e._to=b),e._location&&e._to&&(d=e._to.get("region"),"none"===f.getStyle("display")?(f.setStyle("left",-9999),f.show(),c=f.get("region"),f.hide()):c=f.get("region"),e._setFirstLocation(f,e._location,d,c),e._setSecondLocation(f,e._location,d,c))}},{NS:"align"});a.mt.plugin.Align=b},"1.0.0",{requires:["mt-base","base-build","plugin","node"]});
M.add("w-simpledialog",function(a){function b(){var a=arguments[0],c=b._instances[a.id];return c instanceof b?(delete a.id,c.setAttrs(a),c):(b._instances[a.id]=this,b.superclass.constructor.apply(this,arguments),this)}var c=a.mt.util,d=a.mt.widget.util;b._instances={},b.NAME="SimpleDialog",b.CSS_PREFIX="mt-simpledialog",b.DIALOG_TPL='<a class="close"></a><div class="body">{detail}</div>',b.DIALOG_CONTAINER_TPL='<div id="mt-simpledialog-container"></div>',b.ATTRS={node:{value:null,setter:a.one,writenOnce:!0},id:{value:null,writenOnce:!0},content:{value:null,writenOnce:!0},width:{value:"350px",writenOnce:!0},location:{value:"bl",writeOnce:!0},autoHide:{value:null,writeOnce:!0}},a.extend(b,a.Widget,{initializer:function(){var c=this,d=c.get("node"),e=c.get("id"),f=a.one(document.body),g=c.get("content");if(!e)throw new Error("simpleDialog: 未设置dialog id");if(!g)throw new Error("simpleDialog: 未设置dialog detail");if(!d)throw new Error("simpleDialog: 未设置dialog node");c.publish("close",{emitFacade:!0,defaultFn:c._defCloseFn}),c._handles={},c._container=f.appendChild(b.DIALOG_CONTAINER_TPL),c.render(c._container)},destructor:function(){c.detachHandle(this._handles)},renderUI:function(){var c=this,d=c.get("boundingBox"),e=c.get("content"),f=c.get("id");d.setStyle("width",c.get("width")),c.get("contentBox").setHTML(a.Lang.sub(b.DIALOG_TPL,{id:f,detail:e})),d.hide(),c._dialog=d},bindUI:function(){var b=this,c=b._dialog;c.plug(a.mt.plugin.Align,{location:b.get("location"),to:b.get("node")}),d.hideNodeByClickDocument(b.get("boundingBox"),b.get("node")),this._handles.close=c.delegate("click",function(){b.close()},".close")},setNode:function(b){var c=this,d=c._dialog;c.set("node",b),d.unplug(a.mt.plugin.Align),d.plug(a.mt.plugin.Align,{location:c.get("location"),to:c.get("node")})},close:function(){var a=this,b=a.get("id");a.fire("close",{id:b})},_defCloseFn:function(){this._dialog.hide()},open:function(){var a=this.get("autoHide");this._dialog.show(),a&&this.autoHide(a)},autoHide:function(a){var b=this;setTimeout(function(){b._dialog.hide()},a)},getHost:function(){return this.get("node")},fillContent:function(a){var b=this;b.get("contentBox").one(".body").setHTML(a)}}),a.mt.widget.SimpleDialog=b},"1.0.0",{requires:["mt-base","w-core","p-align","widget","node"],skinnable:!0});