/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("transition",function(e,t){var n="",r="",i=e.config.doc,s="documentElement",o=i[s].style,u="transition",a="transitionProperty",f,l,c,h,p,d,v={},m=["Webkit","Moz"],g={Webkit:"webkitTransitionEnd"},y=function(){this.init.apply(this,arguments)};y._TRANSFORM="transform",y._toCamel=function(e){return e=e.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()}),e},y._toHyphen=function(e){return e=e.replace(/([A-Z]?)([a-z]+)([A-Z]?)/g,function(e,t,n,r){var i=(t?"-"+t.toLowerCase():"")+n;return r&&(i+="-"+r.toLowerCase()),i}),e},y.SHOW_TRANSITION="fadeIn",y.HIDE_TRANSITION="fadeOut",y.useNative=!1,"transition"in o&&"transitionProperty"in o&&"transitionDuration"in o&&"transitionTimingFunction"in o&&"transitionDelay"in o?(y.useNative=!0,y.supported=!0):e.Array.each(m,function(e){var t=e+"Transition";t in i[s].style&&(n=e,r=y._toHyphen(e)+"-",y.useNative=!0,y.supported=!0,y._VENDOR_PREFIX=e)}),typeof o.transform=="undefined"&&e.Array.each(m,function(e){var t=e+"Transform";typeof o[t]!="undefined"&&(y._TRANSFORM=t)}),n&&(u=n+"Transition",a=n+"TransitionProperty"),f=r+"transition-property",l=r+"transition-duration",c=r+"transition-timing-function",h=r+"transition-delay",p="transitionend",d="on"+n.toLowerCase()+"transitionend",p=g[n]||p,y.fx={},y.toggles={},y._hasEnd={},y._reKeywords=/^(?:node|duration|iterations|easing|delay|on|onstart|onend)$/i,e.Node.DOM_EVENTS[p]=1,y.NAME="transition",y.DEFAULT_EASING="ease",y.DEFAULT_DURATION=.5,y.DEFAULT_DELAY=0,y._nodeAttrs={},y.prototype={constructor:y,init:function(e,t){var n=this;return n._node=e,!n._running&&t&&(n._config=t,e._transition=n,n._duration="duration"in t?t.duration:n.constructor.DEFAULT_DURATION,n._delay="delay"in t?t.delay:n.constructor.DEFAULT_DELAY,n._easing=t.easing||n.constructor.DEFAULT_EASING,n._count=0,n._running=!1),n},addProperty:function(t,n){var r=this,i=this._node,s=e.stamp(i),o=e.one(i),u=y._nodeAttrs[s],a,f,l,c,h;u||(u=y._nodeAttrs[s]={}),c=u[t],n&&n.value!==undefined?h=n.value:n!==undefined&&(h=n,n=v),typeof h=="function"&&(h=h.call(o,o)),c&&c.transition&&c.transition!==r&&c.transition._count--,r._count++,l=(typeof n.duration!="undefined"?n.duration:r._duration)||1e-4,u[t]={value:h,duration:l,delay:typeof n.delay!="undefined"?n.delay:r._delay,easing:n.easing||r._easing,transition:r},a=e.DOM.getComputedStyle(i,t),f=typeof h=="string"?a:parseFloat(a),y.useNative&&f===h&&setTimeout(function(){r._onNativeEnd.call(i,{propertyName:t,elapsedTime:l})},l*1e3)},removeProperty:function(t){var n=this,r=y._nodeAttrs[e.stamp(n._node)];r&&r[t]&&(delete r[t],n._count--)},initAttrs:function(t){var n,r=this._node;t.transform&&!t[y._TRANSFORM]&&(t[y._TRANSFORM]=t.transform,delete t.transform);for(n in t)t.hasOwnProperty(n)&&!y._reKeywords.test(n)&&(this.addProperty(n,t[n]),r.style[n]===""&&e.DOM.setStyle(r,n,e.DOM.getComputedStyle(r,n)))},run:function(t){var n=this,r=n._node,i=n._config,s={type:"transition:start",config:i};return n._running||(n._running=!0,i.on&&i.on.start&&i.on.start.call(e.one(r),s),n.initAttrs(n._config),n._callback=t,n._start()),n},_start:function(){this._runNative()},_prepDur:function(e){return e=parseFloat(e)*1e3,e+"ms"},_runNative:function(){var t=this,n=t._node,r=e.stamp(n),i=n.style,s=n.ownerDocument.defaultView.getComputedStyle(n),o=y._nodeAttrs[r],u="",a=s[y._toCamel(f)],d=f+": ",v=l+": ",m=c+": ",g=h+": ",b,w,E;a!=="all"&&(d+=a+",",v+=s[y._toCamel(l)]+",",m+=s[y._toCamel(c)]+",",g+=s[y._toCamel(h)]+",");for(E in o)b=y._toHyphen(E),w=o[E],(w=o[E])&&w.transition===t&&(E in n.style?(v+=t._prepDur(w.duration)+",",g+=t._prepDur(w.delay)+",",m+=w.easing+",",d+=b+",",u+=b+": "+w.value+"; "):this.removeProperty(E));d=d.replace(/,$/,";"),v=v.replace(/,$/,";"),m=m.replace(/,$/,";"),g=g.replace(/,$/,";"),y._hasEnd[r]||(n.addEventListener(p,t._onNativeEnd,""),y._hasEnd[r]=!0),i.cssText+=d+v+m+g+u},_end:function(t){var n=this,r=n._node,i=n._callback,s=n._config,o={type:"transition:end",config:s,elapsedTime:t},u=e.one(r);n._running=!1,n._callback=null,r&&(s.on&&s.on.end?setTimeout(function(){s.on.end.call(u,o),i&&i.call(u,o)},1):i&&setTimeout(function(){i.call(u,o)},1))},_endNative:function(e){var t=this._node,n=t.ownerDocument.defaultView.getComputedStyle(t,"")[y._toCamel(f)];e=y._toHyphen(e),typeof n=="string"&&(n=n.replace(new RegExp("(?:^|,\\s)"+e+",?"),","),n=n.replace(/^,|,$/,""),t.style[u]=n)},_onNativeEnd:function(t){var n=this,r=e.stamp(n),i=t,s=y._toCamel(i.propertyName),o=i.elapsedTime,u=y._nodeAttrs[r],f=u[s],l=f?f.transition:null,c,h;l&&(l.removeProperty(s),l._endNative(s),h=l._config[s],c={type:"propertyEnd",propertyName:s,elapsedTime:o,config:h},h&&h.on&&h.on.end&&h.on.end.call(e.one(n),c),l._count<=0&&(l._end(o),n.style[a]=""))},destroy:function(){var e=this,t=e._node;t&&(t.removeEventListener(p,e._onNativeEnd,!1),e._node=null)}},e.Transition=y,e.TransitionNative=y,e.Node.prototype.transition=function(t,n,r){var i=y._nodeAttrs[e.stamp(this._node)],s=i?i.transition||null:null,o,u;if(typeof t=="string"){typeof n=="function"&&(r=n,n=null),o=y.fx[t];if(n&&typeof n=="object"){n=e.clone(n);for(u in o)o.hasOwnProperty(u)&&(u in n||(n[u]=o[u]))}else n=o}else r=n,n=t;return s&&!s._running?s.init(this,n):s=new y(this._node,n),s.run(r),this},e.Node.prototype.show=function(t,n,r){return this._show(),t&&e.Transition&&(typeof t!="string"&&!t.push&&(typeof n=="function"&&(r=n,n=t),t=y.SHOW_TRANSITION),this.transition(t,n,r)),this},e.NodeList.prototype.show=function(t,n,r){var i=this._nodes,s=0,o;while(o=i[s++])e.one(o).show(t,n,r);return this};var b=function(e,t,n){return function(){t&&t.call(e),n&&typeof n=="function"&&n.apply(e._node,arguments)}};e.Node.prototype.hide=function(t,n,r){return t&&e.Transition?(typeof n=="function"&&(r=n,n=null),r=b(this,this._hide,r),typeof t!="string"&&!t.push&&(typeof n=="function"&&(r=n,n=t),t=y.HIDE_TRANSITION),this.transition(t,n,r)):this._hide(),this},e.NodeList.prototype.hide=function(t,n,r){var i=this._nodes,s=0,o;while(o=i[s++])e.one(o).hide(t,n,r);return this},e.NodeList.prototype
.transition=function(t,n,r){var i=this._nodes,s=this.size(),o=0,r=r===!0,u;while(u=i[o++])o<s&&r?e.one(u).transition(t):e.one(u).transition(t,n);return this},e.Node.prototype.toggleView=function(t,n,r){this._toggles=this._toggles||[],r=arguments[arguments.length-1];if(typeof t!="string"){n=t,this._toggleView(n,r);return}return typeof n=="function"&&(n=undefined),typeof n=="undefined"&&t in this._toggles&&(n=!this._toggles[t]),n=n?1:0,n?this._show():r=b(this,this._hide,r),this._toggles[t]=n,this.transition(e.Transition.toggles[t][n],r),this},e.NodeList.prototype.toggleView=function(t,n,r){var i=this._nodes,s=0,o;while(o=i[s++])o=e.one(o),o.toggleView.apply(o,arguments);return this},e.mix(y.fx,{fadeOut:{opacity:0,duration:.5,easing:"ease-out"},fadeIn:{opacity:1,duration:.5,easing:"ease-in"},sizeOut:{height:0,width:0,duration:.75,easing:"ease-out"},sizeIn:{height:function(e){return e.get("scrollHeight")+"px"},width:function(e){return e.get("scrollWidth")+"px"},duration:.5,easing:"ease-in",on:{start:function(){var e=this.getStyle("overflow");e!=="hidden"&&(this.setStyle("overflow","hidden"),this._transitionOverflow=e)},end:function(){this._transitionOverflow&&(this.setStyle("overflow",this._transitionOverflow),delete this._transitionOverflow)}}}}),e.mix(y.toggles,{size:["sizeOut","sizeIn"],fade:["fadeOut","fadeIn"]})},"3.16.0",{requires:["node-style"]});

M.add("www-tips",function(a){var b=a.Node,c=a.UA.ie,d=a.mt.util,e=d.Cookie;a.mt.www.SysMsg={show:function(c,d){var e,f,g,h,i=a.all(".sysmsgw");i.size()?e=i.item(0):(e=b.create('<div class="sysmsgw common-tip"><div class="sysmsg"><span class="J-msg-content"></span><span class="close common-close">关闭</span></div></div>'),h=a.one("#hdw")||a.one("#site-mast"),h.insert(e,"after")),f=e.one(".J-tip-status"),f&&f.remove(!0),f=b.create('<span class="J-tip-status tip-status"></span>'),f.addClass("tip-status--"+c),g=e.one(".J-msg-content, p"),g.setHTML(d),e.set("id","sysmsg-"+c),g.prepend(f),this.initEvent()},remove:function(b){var c=a.all(".sysmsgw");c.size()&&(b?c.remove(!0):c.item(0).remove(!0))},initEvent:function(){var b=a.one("#sysmsg-error, #sysmsg-success");b&&b.delegate("click",function(){b.remove(!0)},".close")},init:function(b,f){if(b){var g,h="systip";g=b._node?b:a.Node.create(b),f=f&&a.one(f)||a.one("body"),f.prepend(g),a.Global.fire("PageHeight:change"),c&&8>c&&d.reflow(),g.delegate("click",function(){var a=d.decodeAttr(g,"params");if(a&&a.cookieClose){var b=e.getExpiresDate(15,0,0);e.set(h,!0,b,"/","."+M.DOMAIN_HOST)}g.remove(!0),6===c&&d.reflow()},".close")}}},a.mt.www.CommonTips={_isFirstMsg:!0,init:function(b,e,f){function g(b,c){var f;e=d.getEvalRes(c),0!==e.status&&e.msg?(f="<p>"+e.msg+"</p>",j.setAttribute("gaevent",e.gaevent)):l=!0,l?h.effect.fadeOut(!1,200,function(){a.Global.fire("PageHeight:change")}):h.effect.fadeOutSimple(!1,200,function(){m.show(h,f)})}if(b){var h;h=b._node?b:a.Node.create(b),f=f&&a.one(f)||a.one("body"),f.prepend(h),h.show(),a.Global.fire("PageHeight:change"),c&&8>c&&d.reflow();var i,j=h.one(".close"),k=d.decodeAttr(h,"commontips"),l=!1,m=this;h.plug(a.mt.plugin.Effect),h.delegate("click",function(){if(!(i&&i.isInProgress()||l)){var b={};e&&(e.type&&(b.type=e.type),e.msgid&&(b.msgid=e.msgid)),i=a.io("/index/commontips",{method:"POST",data:a.merge(k,b),on:{success:g}})}},".close")}},show:function(a,b){var e=a.one(".content");e.setHTML(b),a.effect.fadeInSimple("middle",function(){c&&8>c&&d.reflow()}),this.trackViewEvent(a)},trackViewEvent:function(a){var b="ga-params",c=a.all("[data-"+b+"]");c.each(function(a){var c=d.data(a,b).split("|");_gaq.push(["_trackEvent"].concat(c))})}},a.mt.www.VipBubble={success:function(b,c,d){var e=d.node,f=e.ancestor().insertBefore(c.markup,e);a.mt.www.VipBubble.bindBubbleEvents(f,c.cn)},bindBubbleEvents:function(a,b){a.show(),a.delegate("click",function(){a.hide(),e.set(b,!0,e.getExpiresDate(20,0,0),"/","."+M.DOMAIN_HOST)},".close")}},a.mt.www.MsgCenter={success:function(b,c,d){function e(){for(var a=["/deal/buy/","/order/check/","/order/return/"],b=document.location.pathname,c=0;c<a.length;c++)if(0===b.indexOf(a[c]))return!1;return!0}var f=d.node,g=a.one("#J-my-msg"),h=c.total;c.msglist&&(f.show(),f.appendChild(c.msglist),g.on("hover",function(){a.mt.www.MsgCenter.initScroll(a.one("#J-header-msg-list"))}),h>0&&e()&&g.one(".J-title").insert('<span class="J-msg-count msg-count">'+h+"</span>","after"))},bindMsgEvent:function(b,c,d,e){function f(b,c,d){c&&a.io(b,{method:"POST",data:{msgid:c.getData("mid")},on:{success:d}})}function g(b){var c=0,d=a.one("#J-my-msg .J-msg-count");b.hasClass("isread")||d&&(c=parseInt(d.get("innerHTML"),10),c--,c>0?d.setHTML(c):d.ancestor().remove(!0))}b=a.one(b),e=e||"nav",b&&(b.delegate("click",function(a){var b,d,h=a.target.hasClass("J-close");h||(b="a"===this.get("tagName").toLowerCase()?this.ancestor("li"):this,a.halt(),f("/message/read",b,function(){g(b),b.addClass("isread"),c&&c()}),d=this.getAttribute("href"),window._gaq.push(["_trackEvent","InnerLink","Click",e+"/drop/msgread/"+b.getData("mid")]),d?window.open(d,"_blank"):"J-header-msg-list"===b.ancestor("ul").get("id")&&window.open("/message/","_blank"))},"a, li"),b.delegate("click",function(){var a=this.ancestor("li");a.hide(200,null,function(){b.all("[data-mid]").some(function(a){return"none"!==a.getStyle("display")})||b.replace('<p class="no-msg">暂无新消息</p>'),f("/message/delete",a,function(){g(a)}),d&&d(),window._gaq.push(["_trackEvent","InnerLink","Click",e+"/drop/msgdel/"+a.getData("mid")])})},".J-close"),b.delegate("hover",function(){this.addClass("current")},function(){this.removeClass("current")},"li"))},initScroll:function(b){function c(){g=b.get("scrollHeight"),h=parseInt(b.get("clientHeight"),10),i=h-2*r,o=b.get("scrollTop"),j=i/g,n.setStyles(h>=g?{height:"0px",top:r+"px",right:"2px"}:{height:j*h+"px",top:o*j+r+"px",right:"2px"})}function d(){b.on("hover",function(){l=f()},function(){l&&l.detach()})}function e(){return window.setTimeout(function(){n.setStyle("opacity","0")},q)}function f(){return b.on({mousewheel:function(a){a.halt(!0),k&&(window.clearTimeout(k),k=null),n.setStyle("opacity","0.5"),k=e(),(a.wheelDelta*s<=0||o>=0&&g-h>=o)&&(a.wheelDelta>0?(o-=p,s=1):(o+=p,s=-1)),0>o?o=0:o>=g-h&&(o=g-h),n.setStyle("opacity",.5),n.setStyle("top",o*j+r),b.set("scrollTop",o)}})}if(b){var g,h,i,j,k,l,m='<div class="scroll-bar"></div>',n=a.Node.create(m),o=0,p=20,q=2e3,r=10,s=0;if(window._gaq.push(["_trackEvent","InnerLink","Click","nav/drop/mymsg"]),b.next(".scroll-bar"))return n=b.next(".scroll-bar"),n.setStyle("opacity","0.5"),void e();b.ancestor().appendChild(n),this.bindMsgEvent(b,null,function(){c()}),window.setTimeout(function(){c(),k=e(),d()},200)}}},a.mt.www.Tips={success:function(b,c,d){var e=d.node,f=e.getData("parent");c.sysmsg?a.mt.www.SysMsg.init(c.sysmsg,f):c.commontips&&a.mt.www.CommonTips.init(c.commontips.html,c.commontips.info,f)}}},"1.0.0",{requires:["transition","www-base"]});