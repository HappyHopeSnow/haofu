M.add("uix-tooltip",function(a){function b(b,c){function d(a){var b=m.data(a,q),c=b||a.get("title");if(c){var d='<div class="'+p+'" style="position:absolute; top:0; left:0; visibility:hidden;"><div class="inner">'+c+"</div></div>";if(l=k.appendChild(d),!g(l,a))return k.removeChild(l),void(l=null);b||a.setAttribute(r,c),a.setAttribute("title","")}}function e(b){l&&(b.setAttribute("title",m.data(b,q)),t?(l.replaceClass(i,j),a.mt.UIUtil.bindAnimEndEvent(l,function(){l&&(l.remove(),l=null)})):(l.remove(),l=null))}function f(){s&&(window.clearTimeout(s),s=null)}function g(a,b){var c=b.get("docScrollX"),d=b.get("docScrollY"),e=b.get("winWidth"),f=b.get("winHeight"),g=b.getXY(),k=g[0],l=g[1],m=b.get("offsetWidth"),n=b.get("offsetHeight"),o=a.get("offsetHeight"),q=a.get("offsetWidth"),r=10,s=0,u=0,v="",w={top:s,left:u,visibility:"visible"},x="above";if(q>e||o>f)return"";if(s=l-o-r,d>s&&(x="below",s=l+n+r,s+o>d+f))return!1;if(u=k-(q-m)/2,c>u?(u=c,u+q/2>k+m/2&&(u=k+m+r,s=l-(o-n)/2),x="right"):u+q>c+e&&(u=c+e-q,k>u+q/2&&(u=k-q-r,s=l-(o-n)/2),x="left"),a.addClass(p+"--"+x),h.showArrow){switch(x){case"above":v='<div class="indication-arrow indication-arrow--down invisible"></div><div class="indication-arrow indication-arrow--down visible"></div>',i="anim-fade-in",j="anim-fade-out";break;case"below":v='<div class="indication-arrow indication-arrow--up visible"></div><div class="indication-arrow indication-arrow--up invisible"></div>',i="anim-fade-in--bellow",j="anim-fade-out--bellow";break;case"left":v='<div class="indication-arrow indication-arrow--right visible"></div><div class="indication-arrow indication-arrow--right invisible"></div>',i="anim-fade-in--left",j="anim-fade-out--left";break;case"right":v='<div class="indication-arrow indication-arrow--left visible"></div><div class="indication-arrow indication-arrow--left invisible"></div>',i="anim-fade-in--right",j="anim-fade-out--right"}a.appendChild(v)}return w.top=s,w.left=u,a.setStyles(w),t&&a.addClass(i),!0}if(b=a.one(b)){var h={showEvent:"mouseenter",hideEvent:"mouseleave",delay:0,showArrow:!0,useAnim:!1};h=a.merge(h,c||{});var i,j,k=a.one("body"),l=null,m=a.mt.util,n=a.mt.UIUtil.isSupportAnimation(),o="uix-tooltip",p="uix-tooltip-tip",q="tooltip-text",r="data-"+q,s=null,t=h.useAnim&&n.transition&&n.transform;b.delegate(h.showEvent,function(){l&&(k.removeChild(l),l=null),f(),d(this)},"."+o),b.delegate(h.hideEvent,function(){function a(){s=window.setTimeout(function(){e(b)},h.delay)}var b=this;h.delay&&l?(a(),l.on("hover",f,a)):e(b)},"."+o)}}a.namespace("mt.uix"),a.mt.uix.Tooltip=b},"1.0.0",{requires:["mt-base","node","mt-uiutil"]});